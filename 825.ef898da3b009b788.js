"use strict";(self.webpackChunkarovan_dashboard=self.webpackChunkarovan_dashboard||[]).push([[825],{8601:(S,q,u)=>{u.d(q,{Q:()=>b});var i=u(4650),_=u(6895);const t=function(g){return{active:g}};function h(g,v){if(1&g){const m=i.EpF();i.TgZ(0,"li",13)(1,"a",3),i.NdJ("click",function(){const p=i.CHM(m).$implicit,f=i.oxw(2);return i.KtG(f.setPage(p))}),i._uU(2),i.qZA()()}if(2&g){const m=v.$implicit,l=i.oxw(2);i.Q6J("ngClass",i.VKq(2,t,l.pager.currentPage===m)),i.xp6(2),i.Oqu(m)}}const Z=function(g){return{disabled:g}};function M(g,v){if(1&g){const m=i.EpF();i.TgZ(0,"ul",1)(1,"li",2)(2,"a",3),i.NdJ("click",function(){i.CHM(m);const s=i.oxw();return i.KtG(s.setPage(1))}),i._UZ(3,"span",4),i.qZA()(),i.TgZ(4,"li",5)(5,"a",6),i.NdJ("click",function(){i.CHM(m);const s=i.oxw();return i.KtG(s.setPage(s.pager.currentPage-1))}),i._UZ(6,"span",7),i.qZA()(),i.YNc(7,h,3,4,"li",8),i.TgZ(8,"li",9)(9,"a",6),i.NdJ("click",function(){i.CHM(m);const s=i.oxw();return i.KtG(s.setPage(s.pager.currentPage+1))}),i._UZ(10,"span",10),i.qZA()(),i.TgZ(11,"li",11)(12,"a",3),i.NdJ("click",function(){i.CHM(m);const s=i.oxw();return i.KtG(s.setPage(s.pager.totalPages))}),i._UZ(13,"span",12),i.qZA()()()}if(2&g){const m=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(5,Z,1===m.pager.currentPage)),i.xp6(3),i.Q6J("ngClass",i.VKq(7,Z,1===m.pager.currentPage)),i.xp6(3),i.Q6J("ngForOf",m.pager.pages),i.xp6(1),i.Q6J("ngClass",i.VKq(9,Z,m.pager.currentPage===m.pager.totalPages)),i.xp6(3),i.Q6J("ngClass",i.VKq(11,Z,m.pager.currentPage===m.pager.totalPages))}}let b=(()=>{const v=class{constructor(){this.count=0,this.changePage=new i.vpe(!0),this.initialPage=1,this.pageSize=10,this.maxPages=10,this.limit=10,this.pager={}}ngOnInit(){this.count&&this.count>0&&this.setPage(this.initialPage)}ngOnChanges(l){l.count.currentValue&&l.count.previousValue&&l.count.currentValue!==l.count.previousValue&&this.setPage(this.initialPage)}paginate(l,s,p,f){void 0===s&&(s=1),void 0===p&&(p=10),void 0===f&&(f=10);var T=Math.ceil(l/p);let A,x;if(s<1?s=1:s>T&&(s=T),T<=f)A=1,x=T;else{var y=Math.floor(f/2),E=Math.ceil(f/2)-1;s<=y?(A=1,x=f):s+E>=T?(A=T-f+1,x=T):(A=s-y,x=s+E)}var N=(s-1)*p,P=Math.min(N+p-1,l-1),w=Array.from(Array(x+1-A).keys()).map(function(F){return A+F});return{totalItems:l,currentPage:s,pageSize:p,totalPages:T,startPage:A,endPage:x,startIndex:N,endIndex:P,pages:w}}setPage(l,s){this.pager=this.paginate(this.count,l,this.pageSize,this.maxPages),s||this.changePage.emit(l)}};let g=v;return v.\u0275fac=function(s){return new(s||v)},v.\u0275cmp=i.Xpm({type:v,selectors:[["app-pagination"]],inputs:{count:"count",initialPage:"initialPage",pageSize:"pageSize",maxPages:"maxPages"},outputs:{changePage:"changePage"},features:[i.TTD],decls:1,vars:1,consts:[["class","pagination",4,"ngIf"],[1,"pagination"],[1,"page-item","first-item","pointer",3,"ngClass"],[1,"page-link","pointer",3,"click"],[1,"mdi","mdi-chevron-double-left"],[1,"page-item","previous-item","pointer","re-mr-right",3,"ngClass"],[1,"page-link",3,"click"],[1,"mdi","mdi-chevron-left"],["class","page-item number-item pointer re-number",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item","next-item","pointer","re-mr-left",3,"ngClass"],[1,"mdi","mdi-chevron-right"],[1,"page-item","last-item","pointer",3,"ngClass"],[1,"mdi","mdi-chevron-double-right"],[1,"page-item","number-item","pointer","re-number",3,"ngClass"]],template:function(s,p){1&s&&i.YNc(0,M,14,13,"ul",0),2&s&&i.Q6J("ngIf",p.pager.pages&&p.pager.pages.length&&p.count>p.limit)},dependencies:[_.mk,_.sg,_.O5]}),g})()},8825:(S,q,u)=>{u.r(q),u.d(q,{MediaModule:()=>ot});var i=u(6895),_=u(8869),t=u(4650),h=u(433),Z=u(2340),M=u(9485),b=u(6570),g=u(6913),v=u(9207);const m=["uploader"];function l(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Media Name is required"),t.qZA())}function s(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Description is required"),t.qZA())}function p(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Please Select File Type"),t.qZA())}function f(e,n){if(1&e&&t._UZ(0,"img",36),2&e){const o=t.oxw(2);t.hYB("src","",o.imagePath,"media/",o.mediaFile,"",t.LSH)}}function T(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Media Image"),t.qZA(),t.TgZ(3,"input",33,34),t.NdJ("uploadOutput",function(d){t.CHM(o);const a=t.oxw();return t.KtG(a.onUploadOutput(d))}),t.qZA(),t.YNc(5,f,1,2,"img",35),t.qZA()}if(2&e){const o=t.oxw();t.xp6(3),t.Q6J("uploadInput",o.uploadInput),t.xp6(2),t.Q6J("ngIf",o.mediaFile)}}function A(e,n){if(1&e&&(t.TgZ(0,"video",39),t._UZ(1,"source",40),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.hYB("src","",o.imagePath,"media/",o.mediaFile,"",t.LSH)}}function x(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Media Video"),t.qZA(),t.TgZ(3,"input",37,34),t.NdJ("uploadOutput",function(d){t.CHM(o);const a=t.oxw();return t.KtG(a.onUploadVideo(d))}),t.qZA(),t.YNc(5,A,2,2,"video",38),t.qZA()}if(2&e){const o=t.oxw();t.xp6(3),t.Q6J("uploadInput",o.uploadInput),t.xp6(2),t.Q6J("ngIf",o.mediaFile)}}function y(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Alt is required"),t.qZA())}function E(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Landing is required"),t.qZA())}function N(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Type is required"),t.qZA())}function P(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Mute is required"),t.qZA())}function w(e,n){if(1&e&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Mute"),t.qZA(),t._UZ(3,"input",41),t.YNc(4,P,2,0,"span",13),t.qZA()),2&e){const o=t.oxw();t.xp6(4),t.Q6J("ngIf",o.submitted&&o.hasError("mute","required"))}}function F(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Please Select Autoplay"),t.qZA())}function Y(e,n){if(1&e&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Autoplay"),t.qZA(),t.TgZ(3,"select",42)(4,"option",19),t._uU(5,"Select Autoplay"),t.qZA(),t.TgZ(6,"option",28),t._uU(7,"Active"),t.qZA(),t.TgZ(8,"option",29),t._uU(9,"Deactive"),t.qZA()(),t.YNc(10,F,2,0,"span",13),t.qZA()),2&e){const o=t.oxw();t.xp6(10),t.Q6J("ngIf",o.submitted&&o.hasError("autoplay","required"))}}function k(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Please Select Loop"),t.qZA())}function D(e,n){if(1&e&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Select Loop"),t.qZA(),t.TgZ(3,"select",43)(4,"option",19),t._uU(5,"Select Loop"),t.qZA(),t.TgZ(6,"option",28),t._uU(7,"Active"),t.qZA(),t.TgZ(8,"option",29),t._uU(9,"Deactive"),t.qZA()(),t.YNc(10,k,2,0,"span",13),t.qZA()),2&e){const o=t.oxw();t.xp6(10),t.Q6J("ngIf",o.submitted&&o.hasError("loop","required"))}}function K(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Full Screen is required"),t.qZA())}function H(e,n){if(1&e&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Full Screen"),t.qZA(),t._UZ(3,"input",44),t.YNc(4,K,2,0,"span",13),t.qZA()),2&e){const o=t.oxw();t.xp6(4),t.Q6J("ngIf",o.submitted&&o.hasError("full_screen","required"))}}function L(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Additional Params is required"),t.qZA())}function R(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Please Select Status"),t.qZA())}let O=(()=>{const n=class{constructor(r,d,a,c,C){this.router=r,this.route=d,this.formBuilder=a,this.mediaService=c,this.toastr=C,this.imageArr=[],this.submitted=!1,this.msg_success=!1,this.msg_danger=!1,this.isEdit="edit"===this.route.snapshot.data.title,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"200px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"blog-descriptiondetail",name:"Rajdhani sans-serif"}]},this.hasError=(st,rt)=>this.addmediaForm.controls[st].hasError(rt),this.uploadInput=new t.vpe,this.addmediaForm=this.formBuilder.group({name:["",h.kI.required],status:[!0,h.kI.required],description:[""],short_desc:[""],src:[""],height:[""],width:[""],alt:[""],style:[""],landing:[""],type:[""],format:[""],file_type:["image"],mute:["muted"],autoplay:[!0],loop:[!0],full_screen:[""],additional_params:[""]}),this.token=localStorage.getItem("miniaar-token"),this.imagePath=Z.N.baseUrl+"/public/"}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.isEdit?(this.patchingdata(this.id),this.applyAction="Update"):this.applyAction="Add"}patchingdata(r){this.mediaService.getMediaWithId({id:r}).subscribe(a=>{if(200==a.code){let c=a?.result;this.mediaFile=c?.src,this.addmediaForm.patchValue({name:c?.name,status:c?.status,description:c?.description,short_desc:c?.short_desc,height:c?.height,width:c?.width,alt:c?.alt,style:c?.style,landing:c?.landing,type:c?.type,format:c?.format,file_type:c?.file_type,mute:c?.mute,autoplay:c?.autoplay,loop:c?.loop,full_screen:c?.full_screen,additional_params:c?.additional_params})}})}onSubmit(){this.submitted=!0;let r=this.addmediaForm.value,d=this.id;r.token=this.token,r.src=this.mediaFile,r.format=this.fileFormat,!this.addmediaForm.invalid&&(this.isEdit?this.mediaService.editMediadata(r,d).subscribe(a=>{200==a.code?(this.throw_msg=a.message,this.msg_success=!0,this.toastr.successToastr(a.message),setTimeout(()=>{this.router.navigate(["/media/view"])},2e3)):(this.throw_msg=a.message,this.msg_danger=!0,this.toastr.errorToastr(a.message))}):this.mediaService.addMedia(r).subscribe(a=>{200==a.code?(this.toastr.successToastr(a.message),this.throw_msg=a.message,this.msg_success=!0,setTimeout(()=>{this.router.navigate(["/media/view"])},2e3)):(this.throw_msg=a.message,this.msg_danger=!0,this.toastr.errorToastr(a.message))}))}onUploadOutput(r){"allAddedToQueue"===r.type?this.uploadInput.emit({type:"uploadAll",url:Z.N.baseUrl+"/api/media/addimage",method:"POST",data:{}}):"done"===r.type&&typeof r.file<"u"&&(this.fileFormat=r.file.type,this.mediaFile=r.file.response.result)}onUploadVideo(r){"allAddedToQueue"===r.type?this.uploadInput.emit({type:"uploadAll",url:Z.N.baseUrl+"/api/media/addVideo",method:"POST",data:{}}):"done"===r.type&&typeof r.file<"u"&&(this.fileFormat=r.file.type,this.mediaFile=r.file.response.result)}};let e=n;return n.\u0275fac=function(d){return new(d||n)(t.Y36(_.F0),t.Y36(_.gz),t.Y36(h.qu),t.Y36(M.y),t.Y36(b.eP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-media"]],viewQuery:function(d,a){if(1&d&&t.Gf(m,5,t.SBq),2&d){let c;t.iGM(c=t.CRH())&&(a.fileInput=c.first)}},decls:84,vars:16,consts:[[1,"container-fluid","mt--7"],[1,"row"],[1,"col-xl-12","order-xl-1"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"row","align-items-center"],[1,"col-md-8","col-sm-10","col-12"],[1,"mb-0"],[1,"card-body"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","name","autocomplete","off","formControlName","name","placeholder","Media Name",1,"form-control"],["class","alert-danger",4,"ngIf"],["name","description","formControlName","description",3,"config"],["name","short_desc","autocomplete","off","formControlName","short_desc","placeholder","Short Description",1,"form-control"],["type","number","name","height","autocomplete","off","formControlName","height","placeholder","Height",1,"form-control"],["type","number","name","width","autocomplete","off","formControlName","width","placeholder","Width",1,"form-control"],["name","file_type","formControlName","file_type",1,"form-control"],["value",""],["value","image"],["value","video"],["class","form-group",4,"ngIf"],["type","text","name","alt","autocomplete","off","formControlName","alt","placeholder","Alt",1,"form-control"],["type","text","name","landing","autocomplete","off","formControlName","landing","placeholder","Landing",1,"form-control"],["type","text","name","type","autocomplete","off","formControlName","type","placeholder","Type",1,"form-control"],["name","additional_params","autocomplete","off","formControlName","additional_params","placeholder","Additional Params",1,"form-control"],["name","status","formControlName","status",1,"form-control"],["value","true"],["value","false"],[1,"box-footer"],["type","submit",1,"btn","btn-button"],[1,"alert-danger"],["type","file","ngFileSelect","","accept","image/*",3,"uploadInput","uploadOutput"],["uploader",""],["alt","logo","style","height: 100px; width: 100px;margin-top: 5px;",3,"src",4,"ngIf"],["alt","logo",2,"height","100px","width","100px","margin-top","5px",3,"src"],["type","file","ngFileSelect","","accept","video/*",3,"uploadInput","uploadOutput"],["width","320","height","240","controls","",4,"ngIf"],["width","320","height","240","controls",""],["type","video/mp4",3,"src"],["type","text","name","mute","autocomplete","off","formControlName","mute","placeholder","Mute",1,"form-control"],["name","autoplay","formControlName","autoplay",1,"form-control"],["name","loop","formControlName","loop",1,"form-control"],["type","text","name","full_screen","autocomplete","off","formControlName","full_screen","placeholder","Full Screen",1,"form-control"]],template:function(d,a){1&d&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),t._uU(8,"Edit Media"),t.qZA()()()(),t.TgZ(9,"div",8)(10,"form",9),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(11,"div",10)(12,"label",11),t._uU(13,"Name"),t.qZA(),t._UZ(14,"input",12),t.YNc(15,l,2,0,"span",13),t.qZA(),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"Description"),t.qZA(),t._UZ(19,"angular-editor",14),t.YNc(20,s,2,0,"span",13),t.qZA(),t.TgZ(21,"div",10)(22,"label",11),t._uU(23,"Short Description"),t.qZA(),t._UZ(24,"input",15),t.qZA(),t.TgZ(25,"div",10)(26,"label",11),t._uU(27,"Height"),t.qZA(),t._UZ(28,"input",16),t.qZA(),t.TgZ(29,"div",10)(30,"label",11),t._uU(31,"Width"),t.qZA(),t._UZ(32,"input",17),t.qZA(),t.TgZ(33,"div",10)(34,"label",11),t._uU(35,"File Type"),t.qZA(),t.TgZ(36,"select",18)(37,"option",19),t._uU(38,"Select File Type"),t.qZA(),t.TgZ(39,"option",20),t._uU(40,"Image"),t.qZA(),t.TgZ(41,"option",21),t._uU(42,"Video"),t.qZA()(),t.YNc(43,p,2,0,"span",13),t.qZA(),t.YNc(44,T,6,2,"div",22),t.YNc(45,x,6,2,"div",22),t.TgZ(46,"div",10)(47,"label",11),t._uU(48,"Alt"),t.qZA(),t._UZ(49,"input",23),t.YNc(50,y,2,0,"span",13),t.qZA(),t.TgZ(51,"div",10)(52,"label",11),t._uU(53,"Landing"),t.qZA(),t._UZ(54,"input",24),t.YNc(55,E,2,0,"span",13),t.qZA(),t.TgZ(56,"div",10)(57,"label",11),t._uU(58,"type"),t.qZA(),t._UZ(59,"input",25),t.YNc(60,N,2,0,"span",13),t.qZA(),t.YNc(61,w,5,1,"div",22),t.YNc(62,Y,11,1,"div",22),t.YNc(63,D,11,1,"div",22),t.YNc(64,H,5,1,"div",22),t.TgZ(65,"div",10)(66,"label",11),t._uU(67,"Additional Params"),t.qZA(),t._UZ(68,"textarea",26),t.YNc(69,L,2,0,"span",13),t.qZA(),t.TgZ(70,"div",10)(71,"label",11),t._uU(72,"Select Status"),t.qZA(),t.TgZ(73,"select",27)(74,"option",19),t._uU(75,"Select Status"),t.qZA(),t.TgZ(76,"option",28),t._uU(77,"Active"),t.qZA(),t.TgZ(78,"option",29),t._uU(79,"Deactive"),t.qZA()(),t.YNc(80,R,2,0,"span",13),t.qZA(),t.TgZ(81,"div",30)(82,"button",31),t._uU(83,"Submit"),t.qZA()()()()()()()()),2&d&&(t.xp6(10),t.Q6J("formGroup",a.addmediaForm),t.xp6(5),t.Q6J("ngIf",a.submitted&&a.hasError("name","required")),t.xp6(4),t.Q6J("config",a.editorConfig),t.xp6(1),t.Q6J("ngIf",a.submitted&&a.hasError("description","required")),t.xp6(23),t.Q6J("ngIf",a.submitted&&a.hasError("file_type","required")),t.xp6(1),t.Q6J("ngIf","image"==a.addmediaForm.value.file_type),t.xp6(1),t.Q6J("ngIf","video"==a.addmediaForm.value.file_type),t.xp6(5),t.Q6J("ngIf",a.submitted&&a.hasError("alt","required")),t.xp6(5),t.Q6J("ngIf",a.submitted&&a.hasError("landing","required")),t.xp6(5),t.Q6J("ngIf",a.submitted&&a.hasError("type","required")),t.xp6(1),t.Q6J("ngIf","video"==a.addmediaForm.value.file_type),t.xp6(1),t.Q6J("ngIf","video"==a.addmediaForm.value.file_type),t.xp6(1),t.Q6J("ngIf","video"==a.addmediaForm.value.file_type),t.xp6(1),t.Q6J("ngIf","video"==a.addmediaForm.value.file_type),t.xp6(5),t.Q6J("ngIf",a.submitted&&a.hasError("additional_params","required")),t.xp6(11),t.Q6J("ngIf",a.submitted&&a.hasError("status","required")))},dependencies:[i.O5,h._Y,h.YN,h.Kr,h.Fj,h.wV,h.EJ,h.JJ,h.JL,h.sg,h.u,g.qx,v.s6]}),e})();var U=u(5826),I=u(1454),V=u(8503),B=u(8601),Q=u(3447);function G(e,n){1&e&&(t.TgZ(0,"td",17)(1,"div",18),t._uU(2," Media List is Empty "),t.qZA()())}function W(e,n){if(1&e&&t._UZ(0,"img",26),2&e){const o=t.oxw().$implicit;t.s9C("src",o.src,t.LSH)}}function z(e,n){if(1&e&&(t.TgZ(0,"video",27),t._UZ(1,"source",28),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.s9C("src",o.src,t.LSH)}}function $(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.YNc(6,W,1,1,"img",19),t.YNc(7,z,2,1,"video",20),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"td")(18,"button",21),t._uU(19,"Copy"),t.qZA()(),t.TgZ(20,"td")(21,"a",22),t._UZ(22,"i",23),t.qZA(),t.TgZ(23,"a",24),t.NdJ("click",function(){const a=t.CHM(o).$implicit,c=t.oxw(),C=t.MAs(41);return t.KtG(c.open(C,a))}),t._UZ(24,"i",25),t.qZA()()()}if(2&e){const o=n.$implicit,r=n.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(o.name),t.xp6(2),t.Q6J("ngIf","image"==o.file_type),t.xp6(1),t.Q6J("ngIf","video"==o.file_type),t.xp6(2),t.Oqu(o.file_type),t.xp6(2),t.Oqu(o.format),t.xp6(2),t.Oqu(1==o.status?"Enabled":"Disable"),t.xp6(2),t.Oqu(t.xi3(16,10,o.created_at,"dd/MMM/yyyy hh:mm a")),t.xp6(3),t.Q6J("cbContent",o.src),t.xp6(3),t.MGl("routerLink","/media/edit/",o._id,"")}}function j(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",29)(1,"app-pagination",30,31),t.NdJ("changePage",function(d){t.CHM(o);const a=t.oxw();return t.KtG(a.onListChangePage(d))}),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("initialPage",o.currentPage)("count",o.totalRecord)}}function X(e,n){if(1&e&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"Are you sure you want to delete "),t.TgZ(3,"span",40),t._uU(4),t.qZA(),t._uU(5," Media?"),t.qZA()()),2&e){const o=t.oxw(2);t.xp6(4),t.hij('"',o.selectedMedia.name,'"')}}function tt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",32)(1,"h4",33),t._uU(2,"Media"),t.qZA(),t.TgZ(3,"button",34),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.KtG(a.dismiss("Cross click"))}),t._uU(4,"close"),t.qZA()(),t.TgZ(5,"div",35),t.YNc(6,X,6,1,"p",36),t.TgZ(7,"p"),t._uU(8," All information associated to this Media will be permanently deleted. "),t.TgZ(9,"span",37),t._uU(10,"This operation can not be undone."),t.qZA()()(),t.TgZ(11,"div",38)(12,"button",39),t.NdJ("click",function(){const a=t.CHM(o).$implicit;return t.KtG(a.dismiss("cancel click"))}),t._uU(13,"Cancel"),t.qZA(),t.TgZ(14,"button",39),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.deleteMedia())}),t._uU(15,"Ok"),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(6),t.Q6J("ngIf",o.selectedMedia)}}let J=(()=>{const n=class{constructor(r,d,a,c,C){this.router=r,this.loginService=d,this.mediaService=a,this.modalService=c,this.activeModal=C,this.msg_danger=!1,this.vendorid="",this.currentPage=1,this.initialized=!1,this.currentLimit=10,this.totalRecord=0,this.closeResult="",this.modalReference=null,this.imagePath=Z.N.baseUrl+"/public/",this.token=localStorage.getItem("miniaar-token")}ngOnInit(){this.get_MediaData()}get_MediaData(){this.mediaService.getMediaDetails({limit:this.currentLimit,page:this.currentPage,token:this.token}).subscribe(d=>{200==d.code&&(null!=d.result&&""!=d.result?(this.MediaData=d.result,this.totalRecord=d?.count,this.MediaData.forEach(a=>{a.src=a&&a.src&&a.src.includes("media")?this.imagePath+"media/"+a.src:this.imagePath+a.src})):this.msg_danger=!0)})}deleteMedia(){this.selectedMedia&&this.mediaService.deletemedia({id:this.selectedMedia._id,file:this.selectedMedia.src}).subscribe(d=>{200==d.code&&(this.get_MediaData(),this.router.navigate(["/media/view"]),this.modalService.dismissAll())})}onListChangePage(r){this.currentPage=r,this.get_MediaData()}open(r,d){this.selectedMedia=d,this.selectedMedia&&(this.modalReference=this.modalService.open(r,{ariaLabelledBy:"modal-basic-title"}).result.then(c=>{this.closeResult=`Closed with: ${c}`},c=>{this.closeResult=`Dismissed ${this.getDismissReason(c)}`}))}getDismissReason(r){return r===I.If.ESC?"by pressing ESC":r===I.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${r}`}closeModal(){this.activeModal.close()}};let e=n;return n.\u0275fac=function(d){return new(d||n)(t.Y36(_.F0),t.Y36(V.r),t.Y36(M.y),t.Y36(I.FF),t.Y36(I.Kz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-media"]],decls:42,vars:3,consts:[[1,"container-fluid","mt--7"],[1,"row"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"mb-0"],[1,"card-body"],[1,"col-md-12"],[1,"col-md-6"],["type","button","routerLink","/media/add",1,"btn","btn-button","ml-auto","mb-4"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],["colspan","5",4,"ngIf"],[4,"ngFor","ngForOf"],["class","pcommece-pagination",4,"ngIf"],["style","z-index: 0;"],["content",""],["colspan","5"],[1,"alert","alert-dismissable",2,"text-align","center"],["alt","logo","style","height: 100px;width: 100px;",3,"src",4,"ngIf"],["width","100","height","100","controls","",4,"ngIf"],["ngxClipboard","",1,"btn-smallbutton",3,"cbContent"],[2,"cursor","pointer",3,"routerLink"],["aria-hidden","true",1,"mdi","mdi-lead-pencil"],[2,"cursor","pointer","padding-left","15px",3,"click"],["aria-hidden","true",1,"mdi","mdi-close-box"],["alt","logo",2,"height","100px","width","100px",3,"src"],["width","100","height","100","controls",""],["type","video/mp4",3,"src"],[1,"pcommece-pagination"],[3,"initialPage","count","changePage"],["pagination",""],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-describedby","modal-title",1,"btn","btn-button",3,"click"],[1,"modal-body"],[4,"ngIf"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-button",3,"click"],[1,"text-primary"]],template:function(d,a){1&d&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),t._uU(6,"Media List"),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",1),t._UZ(10,"div",8),t.TgZ(11,"div",8)(12,"button",9),t._uU(13,"Add Media"),t.qZA()()()(),t.TgZ(14,"div",10)(15,"table",11)(16,"thead")(17,"tr")(18,"th"),t._uU(19,"SL No"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Media Name"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Media Image"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Media File Type"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Media Format"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Status"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Created At"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Src"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Action"),t.qZA()()(),t.TgZ(36,"tbody"),t.YNc(37,G,3,0,"td",12),t.YNc(38,$,25,13,"tr",13),t.qZA()(),t.YNc(39,j,3,2,"div",14),t.qZA()()()()(),t.YNc(40,tt,16,1,"ng-template",15,16,t.W1O),t.qZA()),2&d&&(t.xp6(37),t.Q6J("ngIf",a.msg_danger),t.xp6(1),t.Q6J("ngForOf",a.MediaData),t.xp6(1),t.Q6J("ngIf",a.totalRecord>0))},dependencies:[i.sg,i.O5,_.rH,B.Q,Q.yb,i.uU],styles:[".pcommece-pagination{display:inline-block;width:100%;text-align:center}  .pcommece-pagination .pagination{justify-content:center;margin-top:1rem;align-items:center}  .btn-primary{color:#fff;background-color:#ff5e14;border-color:#ff5e14}  .title{font-size:30px}  .box-title{font-size:60px}  .cdis{display:flex;align-items:center;margin-bottom:15px}  .cdis button{margin-left:10px}  .modal-backdrop{position:inherit!important}    .modal-backdrop{z-index:0!important}"]}),e})();const et=[{path:"",component:J,canActivate:[U.a]},{path:"add",component:O,canActivate:[U.a],data:{title:"add"}},{path:"view",component:J,canActivate:[U.a]},{path:"edit/:id",component:O,canActivate:[U.a],data:{title:"edit"}},{path:"**",component:J,canActivate:[U.a]}];let it=(()=>{const n=class{};let e=n;return n.\u0275fac=function(d){return new(d||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(et),_.Bz]}),e})();var at=u(1310),nt=u(3189);let ot=(()=>{const n=class{};let e=n;return n.\u0275fac=function(d){return new(d||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[i.ez,it,h.u5,h.UX,g.TA,v.UM,nt.h,at.j,Q.Iq]}),e})()},9485:(S,q,u)=>{u.d(q,{y:()=>M});var i=u(262),_=u(2843),t=u(2340),h=u(529),Z=u(4650);let M=(()=>{const g=class{constructor(m){this.http=m,this.getMediaDetails=l=>this.http.post(t.N.baseUrl+"/api/media/viewallMedia",l,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.getMediaWithId=l=>this.http.post(t.N.baseUrl+"/api/media/getMediaWithId",l,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.addMedia=l=>this.http.post(t.N.baseUrl+"/api/media/addMedia",l,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.editMediadata=(l,s)=>{let p=t.N.baseUrl+"/api/media/editMediadata";return s&&(p+=`?id=${s}`),this.http.post(p,l,this.getRequestHeaders()).pipe((0,i.K)(f=>(0,_._)(f)))},this.deletemedia=l=>this.http.post(t.N.baseUrl+"/api/media/deletemedia",l,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.deleteSelectedMedia=l=>this.http.post(t.N.baseUrl+"/api/media/deleteallmedias",l,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.getallMediaDetails=l=>this.http.post(t.N.baseUrl+"/api/media/getAllMedia",l,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.deletefile=l=>this.http.post(t.N.baseUrl+"/api/media/deletefile",l,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.deletemultifiles=l=>this.http.post(t.N.baseUrl+"/api/media/deletemultifiles",l,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p)))}getRequestHeaders(){let m;const l=localStorage.getItem("arovan-token");return m=new h.WM({Authorization:`Bearer ${l}`}),{headers:m}}};let b=g;return g.\u0275fac=function(l){return new(l||g)(Z.LFG(h.eN))},g.\u0275prov=Z.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),b})()}}]);