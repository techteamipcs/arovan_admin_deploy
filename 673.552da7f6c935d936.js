"use strict";(self.webpackChunkarovan_dashboard=self.webpackChunkarovan_dashboard||[]).push([[673],{673:(B,_,n)=>{n.r(_),n.d(_,{ConfigModule:()=>O});var Z=n(6895),u=n(8869),e=n(4650),s=n(433),p=n(2340),q=n(1958),T=n(6570),h=n(6913);const b=["uploader"],v=["canvas"],U=["qrcode"];function A(a,o){if(1&a&&(e.TgZ(0,"div",69),e._uU(1),e.qZA()),2&a){const m=e.oxw();e.xp6(1),e.hij(" ",m.throw_msg," ")}}function C(a,o){if(1&a&&(e.TgZ(0,"div",70),e._uU(1),e.qZA()),2&a){const m=e.oxw();e.xp6(1),e.hij(" ",m.throw_msg," ")}}function E(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Config Name is required"),e.qZA())}function y(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Contact Email is required"),e.qZA())}function S(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Conatct Email Password"),e.qZA())}function w(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"contact Email Subject is required"),e.qZA())}function x(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Career Email is required"),e.qZA())}function N(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Career Email Password is required"),e.qZA())}function I(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Career Email Subject is required"),e.qZA())}function P(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Gmail User is required"),e.qZA())}function Q(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Gmail Password is required"),e.qZA())}function j(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Please Select Art"),e.qZA())}function J(a,o){if(1&a&&(e.TgZ(0,"a",72),e._uU(1),e.qZA()),2&a){const m=e.oxw();e.hYB("href","",m.imagePath,"config/",m.document,"",e.LSH),e.xp6(1),e.Oqu(m.document)}}function Y(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Please Select Smtp Status"),e.qZA())}function V(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Please Select Smtp Secure"),e.qZA())}function k(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Please Select Inclusive of Tax"),e.qZA())}let f=(()=>{const o=class{constructor(i,r,t,l,d){this.router=i,this.configService=r,this.route=t,this.formBuilder=l,this.toastr=d,this.configImage=[],this.imageArr=[],this.submitted=!1,this.msg_success=!1,this.msg_danger=!1,this.currentPage=1,this.initialized=!1,this.currentLimit=10,this.totalRecord=0,this.extension="svg",this.qrCode=null,this.QRcodeImage="",this.qrcodeurl="http://miniaar.ae/",this.isUpdate=!1,this.hasError=(L,z)=>this.addconfigForm.controls[L].hasError(z),this.uploadInput=new e.vpe,this.addconfigForm=this.formBuilder.group({name:["",s.kI.required],status:["",s.kI.required],gmail_user:["",s.kI.required],gmail_password:["",s.kI.required],qrcode_image:[""],qrcode_url:[""],calendly_link:[""],contactEmail:[""],contactEmailPassword:[""],contactEmailSubject:[""],careerEmail:[""],careerEmailPassword:[""],careerEmailSubject:[""],smtp_status:[""],smtp_host:[""],smtp_port:[""],smtp_secure:[""],smtp_user:[""],smtp_password:[""],contact_email:[""],support_email:[""],sales_email:[""],orders_email:[""],tax_rate:[""],currency_type:[""],inclusive_tax:[!0]}),this.token=localStorage.getItem("miniaar-token"),this.imagePath=p.N.baseUrl+"/public/";let c=localStorage.getItem("user");this.user=JSON.parse(c)}ngOnInit(){this.get_ConfigData()}get_ConfigData(){this.configService.getConfigDetails({limit:this.currentLimit,page:this.currentPage,token:this.token}).subscribe(r=>{if(200==r.code)if(null!=r.result&&""!=r.result){this.ConfigData=r.result,this.totalRecord=r?.count;let t=this.ConfigData[0];this.configImage=t?.image,this.QRcodeImage=t?.qrcode_image,this.document=t?.documents,this.addconfigForm.patchValue({name:t?.name,status:t?.status,gmail_user:t?.gmail_user,gmail_password:t?.gmail_password,qrcode_url:t?.qrcode_url,calendly_link:t?.calendly_link,contactEmail:t?.contactEmail,contactEmailPassword:t?.contactEmailPassword,contactEmailSubject:t?.contactEmailSubject,careerEmail:t?.careerEmail,careerEmailPassword:t?.careerEmailPassword,careerEmailSubject:t?.careerEmailSubject,smtp_status:t?.smtp_status,smtp_host:t?.smtp_host,smtp_port:t?.smtp_port,smtp_secure:t?.smtp_secure,smtp_user:t?.smtp_user,smtp_password:t?.smtp_password,contact_email:t?.contact_email,support_email:t?.support_email,sales_email:t?.sales_email,orders_email:t?.orders_email,inclusive_tax:t?.inclusive_tax,tax_rate:t?.tax_rate,currency_type:t?.currency_type}),window.scroll(0,0)}else this.msg_danger=!0})}onSubmit(){this.submitted=!0;let i=this.addconfigForm.value,r=this.ConfigData[0]._id;i["miniaar-token"]=this.token,i.image=this.configImage,i.qrcode_image=this.QRcodeImage,i.documents=this.document,!this.addconfigForm.invalid&&this.configService.editConfigdata(i,r).subscribe(t=>{200==t.code?(this.throw_msg=t.message,this.msg_success=!0,setTimeout(()=>{this.router.navigate(["/config/view"]),this.toastr.successToastr(t.message)},2e3)):this.toastr.errorToastr(t.message)})}onTestEmail(i){this.configService.testEmail({email:i}).subscribe(t=>{200===t.code?(this.throw_msg=t.message,this.msg_success=!0,setTimeout(()=>{this.router.navigate(["/config/view"]),this.toastr.successToastr(t.message)},2e3)):this.toastr.errorToastr(t.message)})}onUploadOutput(i,r){"allAddedToQueue"===i.type?this.uploadInput.emit({type:"uploadAll",url:p.N.baseUrl+"/api/config/addimage",method:"POST",data:{}}):"done"===i.type&&typeof i.file<"u"&&("QRcode"==r?(this.QRcodeImage=p.N.baseUrl+"/public/"+i.file.response.result,this.isUpdate=!0):this.configImage.push(i.file.response.result))}deleteImage(i){confirm("Are you sure to delete this Image")&&this.configImage.splice(i,1)}deleteQRImage(){confirm("Are you sure to delete this Image")&&(this.QRcodeImage="")}onUploadFile(i){this.selectedFile=i,"allAddedToQueue"===i.type?this.uploadInput.emit({type:"uploadAll",url:p.N.baseUrl+"/api/config/addNewDocument",method:"POST",data:{}}):"done"===i.type&&typeof i.file<"u"&&(this.document=i.file.response.result,this.throw_msg=i.file.response.message,this.msg_success=!0)}generateSitemapXML(){this.configService.generareSitemapXML({}).subscribe(r=>{200===r.code?(this.throw_msg=r.message,this.msg_success=!0,setTimeout(()=>{this.router.navigate(["/config/view"]),this.toastr.successToastr(r.message)},2e3)):this.toastr.errorToastr(r.message)})}};let a=o;return o.\u0275fac=function(r){return new(r||o)(e.Y36(u.F0),e.Y36(q.E),e.Y36(u.gz),e.Y36(s.qu),e.Y36(T.eP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-config"]],viewQuery:function(r,t){if(1&r&&(e.Gf(b,5,e.SBq),e.Gf(v,7),e.Gf(U,7)),2&r){let l;e.iGM(l=e.CRH())&&(t.fileInput=l.first),e.iGM(l=e.CRH())&&(t.canvas=l.first),e.iGM(l=e.CRH())&&(t.qrcode=l.first)}},decls:182,vars:18,consts:[[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"row","justify-content-center"],[1,"col-md-8","col-sm-10","col-12","grid-margin","stretch-card"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],["class","alert alert-success alert-dismissable","style","margin-left: 0;",4,"ngIf"],["class","alert alert-danger alert-dismissable","style","margin-left: 0;",4,"ngIf"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"box-body"],[1,"mt-4"],[1,"form-group","col-lg-12"],["for","exampleInputEmail1"],["type","text","name","name","autocomplete","off","formControlName","name","placeholder","Config Name",1,"form-control"],["class","alert-danger",4,"ngIf"],["type","text","name","contactEmail","autocomplete","off","formControlName","contactEmail","placeholder","Contact Email",1,"form-control"],["type","text","name","contactEmailPassword","autocomplete","off","formControlName","contactEmailPassword","placeholder","Conatct Email Password",1,"form-control"],["type","text","name","contactEmailSubject","autocomplete","off","formControlName","contactEmailSubject","placeholder","Contact Email Subject",1,"form-control"],["type","text","name","careerEmail","autocomplete","off","formControlName","careerEmail","placeholder","Career Email",1,"form-control"],["type","text","name","careerEmailPassword","autocomplete","off","formControlName","careerEmailPassword","placeholder","Career Email Password",1,"form-control"],["type","text","name","careerEmailSubject","autocomplete","off","formControlName","careerEmailSubject","placeholder","Career Email Subject",1,"form-control"],["type","text","name","gmail_user","autocomplete","off","formControlName","gmail_user","placeholder","Gmail User",1,"form-control"],["type","text","name","gmail_password","autocomplete","off","formControlName","gmail_password","placeholder","Gmail Password",1,"form-control"],["name","status","formControlName","status",1,"form-control"],["value",""],["value","active"],["value","deactive"],["type","text","name","qrcode_url","autocomplete","off","formControlName","qrcode_url","placeholder","QRcode URL",1,"form-control"],["type","text","name","calendly_link","autocomplete","off","formControlName","calendly_link","placeholder","Calendly Link",1,"form-control"],["type","file","ngFileSelect","",3,"uploadInput","uploadOutput"],["uploader",""],["target","_blank",3,"href",4,"ngIf"],[1,"mb-4"],["for","smtp_status"],["name","smtp_status","formControlName","smtp_status",1,"form-control"],["for","smtp_host"],["type","text","name","smtp_host","autocomplete","off","formControlName","smtp_host","placeholder","SMTP HostName",1,"form-control"],["for","smtp_port"],["type","text","name","smtp_port","autocomplete","off","formControlName","smtp_port","placeholder","SMTP Port",1,"form-control"],["for","smtp_secure"],["name","smtp_secure","formControlName","smtp_secure",1,"form-control"],["for","smtp_user"],["type","text","name","smtp_user","autocomplete","off","formControlName","smtp_user","placeholder","SMTP Usename",1,"form-control"],["for","smtp_password"],["type","text","name","smtp_password","autocomplete","off","formControlName","smtp_password","placeholder","SMTP Password",1,"form-control"],["type","text","name","smtp_test_email","autocomplete","off","id","smtp_test_email","placeholder","Test Email",1,"form-control"],["smtp_test_email",""],["type","button",1,"btn","btn-button",3,"click"],["for","contact_email"],["type","text","name","contact_email","autocomplete","off","formControlName","contact_email","placeholder","Contact Email",1,"form-control"],["for","support_email"],["type","text","name","support_email","autocomplete","off","formControlName","support_email","placeholder","Support Email",1,"form-control"],["for","sales_email"],["type","text","name","sales_email","autocomplete","off","formControlName","sales_email","placeholder","Sales Email",1,"form-control"],["for","orders_email"],["type","text","name","orders_email","autocomplete","off","formControlName","orders_email","placeholder","Orders Email",1,"form-control"],["for","inclusive_tax"],["name","inclusive_tax","formControlName","inclusive_tax",1,"form-control"],["value","true"],["value","false"],["for","tax_rate"],["type","text","name","tax_rate","autocomplete","off","formControlName","tax_rate","placeholder","Tax Rate/Percentage",1,"form-control"],["for","currency_type"],["type","text","name","currency_type","autocomplete","off","formControlName","currency_type","placeholder","Currency Type",1,"form-control"],[1,"box-footer","col-lg-12"],["type","submit",1,"btn","btn-button"],[1,"alert","alert-success","alert-dismissable",2,"margin-left","0"],[1,"alert","alert-danger","alert-dismissable",2,"margin-left","0"],[1,"alert-danger"],["target","_blank",3,"href"]],template:function(r,t){if(1&r){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3," Config "),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h4",7),e._uU(9,"Edit Config"),e.qZA()(),e.TgZ(10,"div",8),e.YNc(11,A,2,1,"div",9),e.YNc(12,C,2,1,"div",10),e.TgZ(13,"form",11),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(14,"div",12)(15,"h4",13),e._uU(16,"Contact Form Email Config"),e.qZA(),e._UZ(17,"hr"),e.TgZ(18,"div",14)(19,"label",15),e._uU(20,"Name"),e.qZA(),e._UZ(21,"input",16),e.YNc(22,E,2,0,"span",17),e.qZA(),e.TgZ(23,"div",14)(24,"label",15),e._uU(25,"Contact Email"),e.qZA(),e._UZ(26,"input",18),e.YNc(27,y,2,0,"span",17),e.qZA(),e.TgZ(28,"div",14)(29,"label",15),e._uU(30,"Conatct Email Password"),e.qZA(),e._UZ(31,"input",19),e.YNc(32,S,2,0,"span",17),e.qZA(),e.TgZ(33,"div",14)(34,"label",15),e._uU(35,"Contact Email Subject"),e.qZA(),e._UZ(36,"input",20),e.YNc(37,w,2,0,"span",17),e.qZA(),e.TgZ(38,"h4",13),e._uU(39,"Career Form Email Config"),e.qZA(),e._UZ(40,"hr"),e.TgZ(41,"div",14)(42,"label",15),e._uU(43,"Career Email"),e.qZA(),e._UZ(44,"input",21),e.YNc(45,x,2,0,"span",17),e.qZA(),e.TgZ(46,"div",14)(47,"label",15),e._uU(48,"Career Email Password"),e.qZA(),e._UZ(49,"input",22),e.YNc(50,N,2,0,"span",17),e.qZA(),e.TgZ(51,"div",14)(52,"label",15),e._uU(53,"Career Email Subject"),e.qZA(),e._UZ(54,"input",23),e.YNc(55,I,2,0,"span",17),e.qZA(),e._UZ(56,"hr"),e.TgZ(57,"div",14)(58,"label",15),e._uU(59,"Gmail User"),e.qZA(),e._UZ(60,"input",24),e.YNc(61,P,2,0,"span",17),e.qZA(),e.TgZ(62,"div",14)(63,"label",15),e._uU(64,"Gmail APP Password"),e.qZA(),e._UZ(65,"input",25),e.YNc(66,Q,2,0,"span",17),e.qZA(),e.TgZ(67,"div",14)(68,"label",15),e._uU(69,"Status"),e.qZA(),e.TgZ(70,"select",26)(71,"option",27),e._uU(72,"Select Status"),e.qZA(),e.TgZ(73,"option",28),e._uU(74,"Active"),e.qZA(),e.TgZ(75,"option",29),e._uU(76,"Deactive"),e.qZA()(),e.YNc(77,j,2,0,"span",17),e.qZA(),e.TgZ(78,"div",14)(79,"label",15),e._uU(80,"QRcode URL"),e.qZA(),e._UZ(81,"input",30),e.qZA(),e.TgZ(82,"div",14)(83,"label",15),e._uU(84,"Calendly Link"),e.qZA(),e._UZ(85,"input",31),e.qZA(),e.TgZ(86,"div",14)(87,"label",15),e._uU(88,"Upload Document"),e.qZA(),e._UZ(89,"br"),e.TgZ(90,"input",32,33),e.NdJ("uploadOutput",function(c){return t.onUploadFile(c)}),e.qZA(),e._UZ(92,"br"),e.YNc(93,J,2,3,"a",34),e.qZA(),e._UZ(94,"hr"),e.TgZ(95,"h4",35),e._uU(96,"SMTP Configuration"),e.qZA(),e.TgZ(97,"div",14)(98,"label",36),e._uU(99,"SMTP Enable/Disable"),e.qZA(),e.TgZ(100,"select",37)(101,"option",27),e._uU(102,"Select Status"),e.qZA(),e.TgZ(103,"option",28),e._uU(104,"Active"),e.qZA(),e.TgZ(105,"option",29),e._uU(106,"Deactive"),e.qZA()(),e.YNc(107,Y,2,0,"span",17),e.qZA(),e.TgZ(108,"div",14)(109,"label",38),e._uU(110,"Smtp Host"),e.qZA(),e._UZ(111,"input",39),e.qZA(),e.TgZ(112,"div",14)(113,"label",40),e._uU(114,"Smtp Port"),e.qZA(),e._UZ(115,"input",41),e.qZA(),e.TgZ(116,"div",14)(117,"label",42),e._uU(118," Secure"),e.qZA(),e.TgZ(119,"select",43)(120,"option",27),e._uU(121,"Select Status"),e.qZA(),e.TgZ(122,"option",28),e._uU(123,"Active"),e.qZA(),e.TgZ(124,"option",29),e._uU(125,"Deactive"),e.qZA()(),e.YNc(126,V,2,0,"span",17),e.qZA(),e.TgZ(127,"div",14)(128,"label",44),e._uU(129,"Username"),e.qZA(),e._UZ(130,"input",45),e.qZA(),e.TgZ(131,"div",14)(132,"label",46),e._uU(133,"Password"),e.qZA(),e._UZ(134,"input",47),e.qZA(),e.TgZ(135,"div",14)(136,"label",44),e._uU(137,"Email "),e.qZA(),e._UZ(138,"input",48,49),e.qZA(),e.TgZ(140,"div",14)(141,"button",50),e.NdJ("click",function(){e.CHM(l);const c=e.MAs(139);return e.KtG(t.onTestEmail(c.value))}),e._uU(142,"Test Mail"),e.qZA()(),e._UZ(143,"hr"),e.TgZ(144,"div",14)(145,"label",51),e._uU(146,"Contact Email"),e.qZA(),e._UZ(147,"input",52),e.qZA(),e.TgZ(148,"div",14)(149,"label",53),e._uU(150,"Support Email"),e.qZA(),e._UZ(151,"input",54),e.qZA(),e.TgZ(152,"div",14)(153,"label",55),e._uU(154,"Sales Email"),e.qZA(),e._UZ(155,"input",56),e.qZA(),e.TgZ(156,"div",14)(157,"label",57),e._uU(158,"Orders Email"),e.qZA(),e._UZ(159,"input",58),e.qZA(),e.TgZ(160,"div",14)(161,"label",59),e._uU(162,"Inclusive of Tax"),e.qZA(),e.TgZ(163,"select",60)(164,"option",27),e._uU(165,"Select"),e.qZA(),e.TgZ(166,"option",61),e._uU(167,"Yes"),e.qZA(),e.TgZ(168,"option",62),e._uU(169,"No"),e.qZA()(),e.YNc(170,k,2,0,"span",17),e.qZA(),e.TgZ(171,"div",14)(172,"label",63),e._uU(173,"Tax Rate/Percentage"),e.qZA(),e._UZ(174,"input",64),e.qZA(),e.TgZ(175,"div",14)(176,"label",65),e._uU(177,"Currency Type"),e.qZA(),e._UZ(178,"input",66),e.qZA()(),e.TgZ(179,"div",67)(180,"button",68),e._uU(181,"Submit"),e.qZA()()()()()()()()}2&r&&(e.xp6(11),e.Q6J("ngIf",t.msg_success),e.xp6(1),e.Q6J("ngIf",t.msg_danger),e.xp6(1),e.Q6J("formGroup",t.addconfigForm),e.xp6(9),e.Q6J("ngIf",t.submitted&&t.hasError("name","required")),e.xp6(5),e.Q6J("ngIf",t.submitted&&t.hasError("contactEmail","required")),e.xp6(5),e.Q6J("ngIf",t.submitted&&t.hasError("contactEmailPassword","required")),e.xp6(5),e.Q6J("ngIf",t.submitted&&t.hasError("contactEmailSubject","required")),e.xp6(8),e.Q6J("ngIf",t.submitted&&t.hasError("careerEmail","required")),e.xp6(5),e.Q6J("ngIf",t.submitted&&t.hasError("careerEmailPassword","required")),e.xp6(5),e.Q6J("ngIf",t.submitted&&t.hasError("careerEmailSubject","required")),e.xp6(6),e.Q6J("ngIf",t.submitted&&t.hasError("gmail_user","required")),e.xp6(5),e.Q6J("ngIf",t.submitted&&t.hasError("gmail_password","required")),e.xp6(11),e.Q6J("ngIf",t.submitted&&t.hasError("status","required")),e.xp6(13),e.Q6J("uploadInput",t.uploadInput),e.xp6(3),e.Q6J("ngIf",t.document),e.xp6(14),e.Q6J("ngIf",t.submitted&&t.hasError("smtp_status","required")),e.xp6(19),e.Q6J("ngIf",t.submitted&&t.hasError("smtp_secure","required")),e.xp6(44),e.Q6J("ngIf",t.submitted&&t.hasError("inclusive_tax","required")))},dependencies:[Z.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,h.qx],styles:[".pcommece-pagination{display:inline-block;width:100%;text-align:center}  .pcommece-pagination .pagination{justify-content:center;margin-top:1rem;align-items:center}  .btn-primary{color:#fff;background-color:#ff5e14;border-color:#ff5e14}  .title{font-size:30px}  .box-title{font-size:60px}  .cdis{display:flex;align-items:center;margin-bottom:15px}  .cdis button{margin-left:10px}  .modal-backdrop{position:inherit!important}    .modal-backdrop{z-index:0!important}"]}),a})();var g=n(5826);const F=[{path:"",component:f,canActivate:[g.a]},{path:"view",component:f,canActivate:[g.a]},{path:"**",component:f,canActivate:[g.a]}];let R=(()=>{const o=class{};let a=o;return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.Bz.forChild(F),u.Bz]}),a})();var G=n(1310),D=n(9207),M=n(3189);let O=(()=>{const o=class{};let a=o;return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Z.ez,R,s.u5,s.UX,h.TA,D.UM,M.h,G.j]}),a})()}}]);